# Ruby 运算符

- Ruby 支持一套丰富的运算符。大多数运算符实际上是方法调用。例如，a + b 被解释为 a.+(b)，其中指向变量 a 的 + 方法被调用，b 作为方法调用的参数。
- 对于每个运算符（+ - * / % ** & | ^ << >> && ||），都有一个相对应的缩写赋值运算符（+= -= 等等）。
---
<aside class="notes">
  
  变量是持有可被任何程序使用的任何数据的存储位置。

</aside>

## Ruby 算术运算符

<aside class="notes">
  
加法 - 把运算符两边的操作数相加 
减法 - 把左操作数减去右操作数
乘法 - 把运算符两边的操作数相乘
除法 - 把左操作数除以右操作数
求模 - 把左操作数除以右操作数，返回余数
指数 - 执行指数计算
</aside>

```bash 
2.4.2 :063 > a = 10
 => 10 
2.4.2 :064 > b = 20
 => 20 
2.4.2 :065 > a + b
 => 30 
2.4.2 :066 > a - b 
 => -10 
2.4.2 :067 > a * b
 => 200 
2.4.2 :068 > a / b 
 => 0 
2.4.2 :069 > a % b
 => 10 
2.4.2 :070 > a ** b
 => 100000000000000000000 

```

--- 

## Ruby 比较运算符

<aside class="notes">
- ==  
 - 检查两个操作数的值是否相等，如果相等则条件为真。  (a == b) 不为真。
- !=  
 - 检查两个操作数的值是否相等，如果不相等则条件为真。 (a != b) 为真。
- > 
 - 检查左操作数的值是否大于右操作数的值，如果是则条件为真。  (a > b) 不为真。
- < 
 - 检查左操作数的值是否小于右操作数的值，如果是则条件为真。  (a < b) 为真。
- >=  
 - 检查左操作数的值是否大于或等于右操作数的值，如果是则条件为真。 (a >= b) 不为真。
- <=  
 - 检查左操作数的值是否小于或等于右操作数的值，如果是则条件为真。 (a <= b) 为真。
- <=> 
 - 联合比较运算符。如果第一个操作数等于第二个操作数则返回 0，如果第一个操作数大于第二个操作数则返回 1，如果第一个操作数小于第二个操作数则返回 -1。 (a <=> b) 返回 -1。
- === 
 - 用于测试 case 语句的 when 子句内的相等。  (1...10) === 5 返回 true。
- .eql? 
 - 如果接收器和参数具有相同的类型和相等的值，则返回 true。  1 == 1.0 返回 true，但是 1.eql?(1.0) 返回 false。
- equal?  
 - 如果接收器和参数具有相同的对象 id，则返回 true。

</aside>

- ==  
- !=  
- \> 
- < 
- \>=  
- <=  
- <=> 
- === 
- .eql? 
- equal?  

---
## Ruby 赋值运算符
<aside class="notes">
 - = 
 - 简单的赋值运算符，把右操作数的值赋给左操作数  c = a + b 将把 a + b 的值赋给 c
- +=  
 - 加且赋值运算符，把右操作数加上左操作数的结果赋值给左操作数 c += a 相当于 c = c + a
- -=  
 - 减且赋值运算符，把左操作数减去右操作数的结果赋值给左操作数 c -= a 相当于 c = c - a
- *=  
 - 乘且赋值运算符，把右操作数乘以左操作数的结果赋值给左操作数 c *= a 相当于 c = c * a
- /=  
 - 除且赋值运算符，把左操作数除以右操作数的结果赋值给左操作数 c /= a 相当于 c = c / a
- %=  
 - 求模且赋值运算符，求两个操作数的模赋值给左操作数  c %= a 相当于 c = c % a
- **= 
 - 指数且赋值运算符，执行指数计算，并赋值给左操作数 

</aside>

- = 
- +=  
- -=  
- *=  
- /=  
- %=  
- **= 

---

## Ruby 位运算符

<aside class="notes">
- & 
 - 如果同时存在于两个操作数中，二进制 AND 运算符复制一位到结果中
- |
 - 如果存在于任一操作数中，二进制 OR 运算符复制一位到结果中
- ^ 
 - 如果存在于其中一个操作数中但不同时存在于两个操作数中，二进制异或运算符复制一位到结果中
- ~
 -  二进制补码运算符是一元运算符，具有"翻转"位效果
- << 
 - 二进制左移运算符。左操作数的值向左移动右操作数指定的位数
- \>\> 
 - 二进制右移运算符。左操作数的值向右移动右操作数指定的位数。
  to_s 2
"%0b" % 255
"%0d" % 255
"%0x" % 255
"%0o" % 255

</aside>


```bash

a = 0011 1100

b = 0000 1101

#-----------------

a&b = 0000 1100

a|b = 0011 1101

a^b = 0011 0001

~a  = 1100 0011

a << 2

a >> 2

```

---

## Ruby 逻辑运算符

<aside class="notes">
- and  &&
- 称为逻辑与运算符。如果两个操作数都为真，则条件为真
- or ||
 - 称为逻辑或运算符。如果两个操作数中有任意一个为真，则条件为真
- not  !
 - 称为逻辑非运算符。用来逆转操作数的逻辑状态。如果条件为真则逻辑非运算符将使其为假
</aside>

```bash
2.4.2 :089 > a , b = true ,false
 => [true, false] 
2.4.2 :090 > a and b
 => false 
2.4.2 :091 > a or b
 => true 
2.4.2 :092 > !a
 => false 
2.4.2 :093 > not a
 => false 
2.4.2 :094 > a && b
 => false 
2.4.2 :095 > a || b
 => true 


```




---

## Ruby 三元运算符
- ? :
 - 如果条件为真 ? 则值为 X : 否则值为 Y

```bash
2.4.2 :078 > a = true 
 => true 
2.4.2 :079 > a  ?  12 : 123
 => 12 
2.4.2 :080 > a = false
 => false 
2.4.2 :081 > a  ?  12 : 123
 => 123 
```

---

## Ruby 范围运算符

- ..
 - 1..10 创建从 1 到 10 的范围
- ...
 - 1...10 创建从 1 到 9 的范围
---

## Ruby 运算符的优先级
优先级由高到低

- 算术运算符
- 位移运算符
- 比较运算符
- 逻辑运算符
- 三元运算符
- 赋值运算符

```bash
2.4.2 :188 > a = 12
2.4.2 :189 > b = 17
 => 17 
2.4.2 :190 > a + b == 17
 => false 
2.4.2 :191 > a + b
 => 29 
2.4.2 :192 > a + b << 2
 => 116 
2.4.2 :193 > a + b >> 2
 => 7 
2.4.2 :194 > a + b >> 2 > 8
 => false 
```

